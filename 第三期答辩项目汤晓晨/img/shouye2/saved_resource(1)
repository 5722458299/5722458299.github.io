/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function(f,a,e){var h=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||function(i){f.setTimeout(i,1000/60)};var c=(function(){var m={};var n=a.createElement("div").style;var k=(function(){var r=["t","webkitT","MozT","msT","OT"],p,q=0,o=r.length;for(;q<o;q++){p=r[q]+"ransform";if(p in n){return r[q].substr(0,r[q].length-1)}}return false})();function l(o){if(k===false){return false}if(k===""){return o}return k+o.charAt(0).toUpperCase()+o.substr(1)}m.getTime=Date.now||function i(){return new Date().getTime()};m.extend=function(q,p){for(var o in p){q[o]=p[o]}};m.addEvent=function(r,q,p,o){r.addEventListener(q,p,!!o)};m.removeEvent=function(r,q,p,o){r.removeEventListener(q,p,!!o)};m.prefixPointerEvent=function(o){return f.MSPointerEvent?"MSPointer"+o.charAt(9).toUpperCase()+o.substr(10):o};m.momentum=function(u,q,r,o,v,w){var p=u-q,s=e.abs(p)/r,x,t;w=w===undefined?0.0006:w;x=u+(s*s)/(2*w)*(p<0?-1:1);t=s/w;if(x<o){x=v?o-(v/2.5*(s/8)):o;p=e.abs(x-u);t=p/s}else{if(x>0){x=v?v/2.5*(s/8):0;p=e.abs(u)+x;t=p/s}}return{destination:e.round(x),duration:t}};var j=l("transform");m.extend(m,{hasTransform:j!==false,hasPerspective:l("perspective") in n,hasTouch:"ontouchstart" in f,hasPointer:f.PointerEvent||f.MSPointerEvent,hasTransition:l("transition") in n});m.isBadAndroid=/Android /.test(f.navigator.appVersion)&&!(/Chrome\/\d/.test(f.navigator.appVersion));m.extend(m.style={},{transform:j,transitionTimingFunction:l("transitionTimingFunction"),transitionDuration:l("transitionDuration"),transitionDelay:l("transitionDelay"),transformOrigin:l("transformOrigin")});m.hasClass=function(p,q){var o=new RegExp("(^|\\s)"+q+"(\\s|$)");return o.test(p.className)};m.addClass=function(p,q){if(m.hasClass(p,q)){return}var o=p.className.split(" ");o.push(q);p.className=o.join(" ")};m.removeClass=function(p,q){if(!m.hasClass(p,q)){return}var o=new RegExp("(^|\\s)"+q+"(\\s|$)","g");p.className=p.className.replace(o," ")};m.offset=function(o){var q=-o.offsetLeft,p=-o.offsetTop;while(o=o.offsetParent){q-=o.offsetLeft;p-=o.offsetTop}return{left:q,top:p}};m.preventDefaultException=function(q,p){for(var o in p){if(p[o].test(q[o])){return true}}return false};m.extend(m.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});m.extend(m.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(o){return o*(2-o)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(o){return e.sqrt(1-(--o*o))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(p){var o=4;return(p=p-1)*p*((o+1)*p+o)+1}},bounce:{style:"",fn:function(o){if((o/=1)<(1/2.75)){return 7.5625*o*o}else{if(o<(2/2.75)){return 7.5625*(o-=(1.5/2.75))*o+0.75}else{if(o<(2.5/2.75)){return 7.5625*(o-=(2.25/2.75))*o+0.9375}else{return 7.5625*(o-=(2.625/2.75))*o+0.984375}}}}},elastic:{style:"",fn:function(o){var p=0.22,q=0.4;if(o===0){return 0}if(o==1){return 1}return(q*e.pow(2,-10*o)*e.sin((o-p/4)*(2*e.PI)/p)+1)}}});m.tap=function(q,o){var p=a.createEvent("Event");p.initEvent(o,true,true);p.pageX=q.pageX;p.pageY=q.pageY;q.target.dispatchEvent(p)};m.click=function(q){var p=q.target,o;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(p.tagName)){o=a.createEvent("MouseEvents");o.initMouseEvent("click",true,true,q.view,1,p.screenX,p.screenY,p.clientX,p.clientY,q.ctrlKey,q.altKey,q.shiftKey,q.metaKey,0,null);o._constructed=true;p.dispatchEvent(o)}};return m})();function g(l,j){this.wrapper=typeof l=="string"?a.querySelector(l):l;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var k in j){this.options[k]=j[k]}this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"";this.options.useTransition=c.hasTransition&&this.options.useTransition;this.options.useTransform=c.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}if(this.options.shrinkScrollbars=="scale"){this.options.useTransition=false}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}g.prototype={version:"5.1.3",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.mouseWheel){this._initWheel()}if(this.options.snap){this._initSnap()}if(this.options.keyBindings){this._initKeys()}},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(i){if(i.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(j){if(c.eventType[j.type]!=1){if(j.button!==0){return}}if(!this.enabled||(this.initiated&&c.eventType[j.type]!==this.initiated)){return}if(this.options.preventDefault&&!c.isBadAndroid&&!c.preventDefaultException(j.target,this.options.preventDefaultException)){j.preventDefault()}var i=j.touches?j.touches[0]:j,k;this.initiated=c.eventType[j.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=c.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;k=this.getComputedPosition();this._translate(e.round(k.x),e.round(k.y));this._execEvent("scrollEnd")}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=i.pageX;this.pointY=i.pageY;this._execEvent("beforeScrollStart")},_move:function(n){if(!this.enabled||c.eventType[n.type]!==this.initiated){return}if(this.options.preventDefault){n.preventDefault()}var p=n.touches?n.touches[0]:n,k=p.pageX-this.pointX,j=p.pageY-this.pointY,o=c.getTime(),i,q,m,l;this.pointX=p.pageX;this.pointY=p.pageY;this.distX+=k;this.distY+=j;m=e.abs(this.distX);l=e.abs(this.distY);if(o-this.endTime>300&&(m<10&&l<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(m>l+this.options.directionLockThreshold){this.directionLocked="h"}else{if(l>=m+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){n.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}j=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){n.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}k=0}}k=this.hasHorizontalScroll?k:0;j=this.hasVerticalScroll?j:0;i=this.x+k;q=this.y+j;if(i>0||i<this.maxScrollX){i=this.options.bounce?this.x+k/3:i>0?0:this.maxScrollX}if(q>0||q<this.maxScrollY){q=this.options.bounce?this.y+j/3:q>0?0:this.maxScrollY}this.directionX=k>0?-1:k<0?1:0;this.directionY=j>0?-1:j<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(i,q);if(o-this.startTime>300){this.startTime=o;this.startX=this.x;this.startY=this.y}},_end:function(o){if(!this.enabled||c.eventType[o.type]!==this.initiated){return}if(this.options.preventDefault&&!c.preventDefaultException(o.target,this.options.preventDefaultException)){o.preventDefault()}var q=o.changedTouches?o.changedTouches[0]:o,k,j,n=c.getTime()-this.startTime,i=e.round(this.x),t=e.round(this.y),s=e.abs(i-this.startX),r=e.abs(t-this.startY),l=0,p="";this.isInTransition=0;this.initiated=0;this.endTime=c.getTime();if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(i,t);if(!this.moved){if(this.options.tap){c.tap(o,this.options.tap)}if(this.options.click){c.click(o)}this._execEvent("scrollCancel");return}if(this._events.flick&&n<200&&s<100&&r<100){this._execEvent("flick");return}if(this.options.momentum&&n<300){k=this.hasHorizontalScroll?c.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:i,duration:0};j=this.hasVerticalScroll?c.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:t,duration:0};i=k.destination;t=j.destination;l=e.max(k.duration,j.duration);this.isInTransition=1}if(this.options.snap){var m=this._nearestSnap(i,t);this.currentPage=m;l=this.options.snapSpeed||e.max(e.max(e.min(e.abs(i-m.x),1000),e.min(e.abs(t-m.y),1000)),300);i=m.x;t=m.y;this.directionX=0;this.directionY=0;p=this.options.bounceEasing}if(i!=this.x||t!=this.y){if(i>0||i<this.maxScrollX||t>0||t<this.maxScrollY){p=c.ease.quadratic}this.scrollTo(i,t,l,p);return}this._execEvent("scrollEnd")},_resize:function(){var i=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){i.refresh()},this.options.resizePolling)},resetPosition:function(j){var i=this.x,k=this.y;j=j||0;if(!this.hasHorizontalScroll||this.x>0){i=0}else{if(this.x<this.maxScrollX){i=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){k=0}else{if(this.y<this.maxScrollY){k=this.maxScrollY}}if(i==this.x&&k==this.y){return false}this.scrollTo(i,k,j,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var i=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=c.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(j,i){if(!this._events[j]){this._events[j]=[]}this._events[j].push(i)},off:function(k,j){if(!this._events[k]){return}var i=this._events[k].indexOf(j);if(i>-1){this._events[k].splice(i,1)}},_execEvent:function(m){if(!this._events[m]){return}var k=0,j=this._events[m].length;if(!j){return}for(;k<j;k++){this._events[m][k].apply(this,[].slice.call(arguments,1))}},scrollBy:function(i,l,j,k){i=this.x+i;l=this.y+l;j=j||0;this.scrollTo(i,l,j,k)},scrollTo:function(i,l,j,k){k=k||c.ease.circular;this.isInTransition=this.options.useTransition&&j>0;if(!j||(this.options.useTransition&&k.style)){this._transitionTimingFunction(k.style);this._transitionTime(j);this._translate(i,l)}else{this._animate(i,l,j,k.fn)}},scrollToElement:function(j,k,i,n,m){j=j.nodeType?j:this.scroller.querySelector(j);if(!j){return}var l=c.offset(j);l.left-=this.wrapperOffset.left;l.top-=this.wrapperOffset.top;if(i===true){i=e.round(j.offsetWidth/2-this.wrapper.offsetWidth/2)}if(n===true){n=e.round(j.offsetHeight/2-this.wrapper.offsetHeight/2)}l.left-=i||0;l.top-=n||0;l.left=l.left>0?0:l.left<this.maxScrollX?this.maxScrollX:l.left;l.top=l.top>0?0:l.top<this.maxScrollY?this.maxScrollY:l.top;k=k===undefined||k===null||k==="auto"?e.max(e.abs(this.x-l.left),e.abs(this.y-l.top)):k;this.scrollTo(l.left,l.top,k,m)},_transitionTime:function(k){k=k||0;this.scrollerStyle[c.style.transitionDuration]=k+"ms";if(!k&&c.isBadAndroid){this.scrollerStyle[c.style.transitionDuration]="0.001s"}if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTime(k)}}},_transitionTimingFunction:function(k){this.scrollerStyle[c.style.transitionTimingFunction]=k;if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTimingFunction(k)}}},_translate:function(j,l){if(this.options.useTransform){this.scrollerStyle[c.style.transform]="translate("+j+"px,"+l+"px)"+this.translateZ}else{j=e.round(j);l=e.round(l);this.scrollerStyle.left=j+"px";this.scrollerStyle.top=l+"px"}this.x=j;this.y=l;if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].updatePosition()}}},_initEvents:function(i){var j=i?c.removeEvent:c.addEvent,k=this.options.bindToWrapper?this.wrapper:f;j(f,"orientationchange",this);j(f,"resize",this);if(this.options.click){j(this.wrapper,"click",this,true)}if(!this.options.disableMouse){j(this.wrapper,"mousedown",this);j(k,"mousemove",this);j(k,"mousecancel",this);j(k,"mouseup",this)}if(c.hasPointer&&!this.options.disablePointer){j(this.wrapper,c.prefixPointerEvent("pointerdown"),this);j(k,c.prefixPointerEvent("pointermove"),this);j(k,c.prefixPointerEvent("pointercancel"),this);j(k,c.prefixPointerEvent("pointerup"),this)}if(c.hasTouch&&!this.options.disableTouch){j(this.wrapper,"touchstart",this);j(k,"touchmove",this);j(k,"touchcancel",this);j(k,"touchend",this)}j(this.scroller,"transitionend",this);j(this.scroller,"webkitTransitionEnd",this);j(this.scroller,"oTransitionEnd",this);j(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var j=f.getComputedStyle(this.scroller,null),i,k;if(this.options.useTransform){j=j[c.style.transform].split(")")[0].split(", ");i=+(j[12]||j[4]);k=+(j[13]||j[5])}else{i=+j.left.replace(/[^-\d.]/g,"");k=+j.top.replace(/[^-\d.]/g,"")}return{x:i,y:k}},_initIndicators:function(){var l=this.options.interactiveScrollbars,n=typeof this.options.scrollbars!="string",p=[],k;var o=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){k={el:d("v",l,this.options.scrollbars),interactive:l,defaultScrollbars:true,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(k.el);p.push(k)}if(this.options.scrollX){k={el:d("h",l,this.options.scrollbars),interactive:l,defaultScrollbars:true,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(k.el);p.push(k)}}if(this.options.indicators){p=p.concat(this.options.indicators)}for(var m=p.length;m--;){this.indicators.push(new b(this,p[m]))}function j(r){for(var q=o.indicators.length;q--;){r.call(o.indicators[q])}}if(this.options.fadeScrollbars){this.on("scrollEnd",function(){j(function(){this.fade()})});this.on("scrollCancel",function(){j(function(){this.fade()})});this.on("scrollStart",function(){j(function(){this.fade(1)})});this.on("beforeScrollStart",function(){j(function(){this.fade(1,true)})})}this.on("refresh",function(){j(function(){this.refresh()})});this.on("destroy",function(){j(function(){this.destroy()});delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this);c.addEvent(this.wrapper,"mousewheel",this);c.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){c.removeEvent(this.wrapper,"wheel",this);c.removeEvent(this.wrapper,"mousewheel",this);c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(m){if(!this.enabled){return}m.preventDefault();m.stopPropagation();var k,j,n,l,i=this;if(this.wheelTimeout===undefined){i._execEvent("scrollStart")}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){i._execEvent("scrollEnd");i.wheelTimeout=undefined},400);if("deltaX" in m){if(m.deltaMode===1){k=-m.deltaX*this.options.mouseWheelSpeed;j=-m.deltaY*this.options.mouseWheelSpeed}else{k=-m.deltaX;j=-m.deltaY}}else{if("wheelDeltaX" in m){k=m.wheelDeltaX/120*this.options.mouseWheelSpeed;j=m.wheelDeltaY/120*this.options.mouseWheelSpeed}else{if("wheelDelta" in m){k=j=m.wheelDelta/120*this.options.mouseWheelSpeed}else{if("detail" in m){k=j=-m.detail/3*this.options.mouseWheelSpeed}else{return}}}}k*=this.options.invertWheelDirection;j*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){k=j;j=0}if(this.options.snap){n=this.currentPage.pageX;l=this.currentPage.pageY;if(k>0){n--}else{if(k<0){n++}}if(j>0){l--}else{if(j<0){l++}}this.goToPage(n,l);return}n=this.x+e.round(this.hasHorizontalScroll?k:0);l=this.y+e.round(this.hasVerticalScroll?j:0);if(n>0){n=0}else{if(n<this.maxScrollX){n=this.maxScrollX}}if(l>0){l=0}else{if(l<this.maxScrollY){l=this.maxScrollY}}this.scrollTo(n,l,0)},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}this.on("refresh",function(){var s=0,q,o=0,k,r,p,u=0,t,w=this.options.snapStepX||this.wrapperWidth,v=this.options.snapStepY||this.wrapperHeight,j;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}if(this.options.snap===true){r=e.round(w/2);p=e.round(v/2);while(u>-this.scrollerWidth){this.pages[s]=[];q=0;t=0;while(t>-this.scrollerHeight){this.pages[s][q]={x:e.max(u,this.maxScrollX),y:e.max(t,this.maxScrollY),width:w,height:v,cx:u-r,cy:t-p};t-=v;q++}u-=w;s++}}else{j=this.options.snap;q=j.length;k=-1;for(;s<q;s++){if(s===0||j[s].offsetLeft<=j[s-1].offsetLeft){o=0;k++}if(!this.pages[o]){this.pages[o]=[]}u=e.max(-j[s].offsetLeft,this.maxScrollX);t=e.max(-j[s].offsetTop,this.maxScrollY);r=u-e.round(j[s].offsetWidth/2);p=t-e.round(j[s].offsetHeight/2);this.pages[o][k]={x:u,y:t,width:j[s].offsetWidth,height:j[s].offsetHeight,cx:r,cy:p};if(u>this.maxScrollX){o++}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=e.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){var i=this.options.snapSpeed||e.max(e.max(e.min(e.abs(this.x-this.startX),1000),e.min(e.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,i)})},_nearestSnap:function(k,p){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}var o=0,n=this.pages.length,j=0;if(e.abs(k-this.absStartX)<this.snapThresholdX&&e.abs(p-this.absStartY)<this.snapThresholdY){return this.currentPage}if(k>0){k=0}else{if(k<this.maxScrollX){k=this.maxScrollX}}if(p>0){p=0}else{if(p<this.maxScrollY){p=this.maxScrollY}}for(;o<n;o++){if(k>=this.pages[o][0].cx){k=this.pages[o][0].x;break}}n=this.pages[o].length;for(;j<n;j++){if(p>=this.pages[0][j].cy){p=this.pages[0][j].y;break}}if(o==this.currentPage.pageX){o+=this.directionX;if(o<0){o=0}else{if(o>=this.pages.length){o=this.pages.length-1}}k=this.pages[o][0].x}if(j==this.currentPage.pageY){j+=this.directionY;if(j<0){j=0}else{if(j>=this.pages[0].length){j=this.pages[0].length-1}}p=this.pages[0][j].y}return{x:k,y:p,pageX:o,pageY:j}},goToPage:function(i,n,j,m){m=m||this.options.bounceEasing;if(i>=this.pages.length){i=this.pages.length-1}else{if(i<0){i=0}}if(n>=this.pages[i].length){n=this.pages[i].length-1}else{if(n<0){n=0}}var l=this.pages[i][n].x,k=this.pages[i][n].y;j=j===undefined?this.options.snapSpeed||e.max(e.max(e.min(e.abs(l-this.x),1000),e.min(e.abs(k-this.y),1000)),300):j;this.currentPage={x:l,y:k,pageX:i,pageY:n};this.scrollTo(l,k,j,m)},next:function(j,l){var i=this.currentPage.pageX,k=this.currentPage.pageY;i++;if(i>=this.pages.length&&this.hasVerticalScroll){i=0;k++}this.goToPage(i,k,j,l)},prev:function(j,l){var i=this.currentPage.pageX,k=this.currentPage.pageY;i--;if(i<0&&this.hasVerticalScroll){i=0;k--}this.goToPage(i,k,j,l)},_initKeys:function(l){var k={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var j;if(typeof this.options.keyBindings=="object"){for(j in this.options.keyBindings){if(typeof this.options.keyBindings[j]=="string"){this.options.keyBindings[j]=this.options.keyBindings[j].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(j in k){this.options.keyBindings[j]=this.options.keyBindings[j]||k[j]}c.addEvent(f,"keydown",this);this.on("destroy",function(){c.removeEvent(f,"keydown",this)})},_key:function(n){if(!this.enabled){return}var i=this.options.snap,o=i?this.currentPage.pageX:this.x,m=i?this.currentPage.pageY:this.y,k=c.getTime(),j=this.keyTime||0,l=0.25,p;if(this.options.useTransition&&this.isInTransition){p=this.getComputedPosition();this._translate(e.round(p.x),e.round(p.y));this.isInTransition=false}this.keyAcceleration=k-j<200?e.min(this.keyAcceleration+l,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){o+=i?1:this.wrapperWidth}else{m+=i?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){o-=i?1:this.wrapperWidth}else{m-=i?1:this.wrapperHeight}break;case this.options.keyBindings.end:o=i?this.pages.length-1:this.maxScrollX;m=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0;m=0;break;case this.options.keyBindings.left:o+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:m+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:m-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i){this.goToPage(o,m);return}if(o>0){o=0;this.keyAcceleration=0}else{if(o<this.maxScrollX){o=this.maxScrollX;this.keyAcceleration=0}}if(m>0){m=0;this.keyAcceleration=0}else{if(m<this.maxScrollY){m=this.maxScrollY;this.keyAcceleration=0}}this.scrollTo(o,m,0);this.keyTime=k},_animate:function(r,q,l,i){var o=this,n=this.x,m=this.y,j=c.getTime(),p=j+l;function k(){var s=c.getTime(),u,t,v;if(s>=p){o.isAnimating=false;o._translate(r,q);if(!o.resetPosition(o.options.bounceTime)){o._execEvent("scrollEnd")}return}s=(s-j)/l;v=i(s);u=(r-n)*v+n;t=(q-m)*v+m;o._translate(u,t);if(o.isAnimating){h(k)}}this.isAnimating=true;k()},handleEvent:function(i){switch(i.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(i);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(i);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(i);break;case"keydown":this._key(i);break;case"click":if(!i._constructed){i.preventDefault();i.stopPropagation()}break}}};function d(l,j,k){var m=a.createElement("div"),i=a.createElement("div");if(k===true){m.style.cssText="position:absolute;z-index:9999";i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}i.className="iScrollIndicator";if(l=="h"){if(k===true){m.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";i.style.height="100%"}m.className="iScrollHorizontalScrollbar"}else{if(k===true){m.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";i.style.width="100%"}m.className="iScrollVerticalScrollbar"}m.style.cssText+=";overflow:hidden";if(!j){m.style.pointerEvents="none"}m.appendChild(i);return m}function b(j,k){this.wrapper=typeof k.el=="string"?a.querySelector(k.el):k.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=j;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var l in k){this.options[l]=k[l]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){c.addEvent(this.indicator,"touchstart",this);c.addEvent(f,"touchend",this)}if(!this.options.disablePointer){c.addEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this);c.addEvent(f,c.prefixPointerEvent("pointerup"),this)}if(!this.options.disableMouse){c.addEvent(this.indicator,"mousedown",this);c.addEvent(f,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[c.style.transform]=this.scroller.translateZ;this.wrapperStyle[c.style.transitionDuration]=c.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}}b.prototype={handleEvent:function(i){switch(i.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(i);break}},destroy:function(){if(this.options.interactive){c.removeEvent(this.indicator,"touchstart",this);c.removeEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this);c.removeEvent(this.indicator,"mousedown",this);c.removeEvent(f,"touchmove",this);c.removeEvent(f,c.prefixPointerEvent("pointermove"),this);c.removeEvent(f,"mousemove",this);c.removeEvent(f,"touchend",this);c.removeEvent(f,c.prefixPointerEvent("pointerup"),this);c.removeEvent(f,"mouseup",this)}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(j){var i=j.touches?j.touches[0]:j;j.preventDefault();j.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=c.getTime();if(!this.options.disableTouch){c.addEvent(f,"touchmove",this)}if(!this.options.disablePointer){c.addEvent(f,c.prefixPointerEvent("pointermove"),this)}if(!this.options.disableMouse){c.addEvent(f,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(n){var j=n.touches?n.touches[0]:n,k,i,o,m,l=c.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;k=j.pageX-this.lastPointX;this.lastPointX=j.pageX;i=j.pageY-this.lastPointY;this.lastPointY=j.pageY;o=this.x+k;m=this.y+i;this._pos(o,m);n.preventDefault();n.stopPropagation()},_end:function(k){if(!this.initiated){return}this.initiated=false;k.preventDefault();k.stopPropagation();c.removeEvent(f,"touchmove",this);c.removeEvent(f,c.prefixPointerEvent("pointermove"),this);c.removeEvent(f,"mousemove",this);if(this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var j=this.options.snapSpeed||e.max(e.max(e.min(e.abs(this.scroller.x-i.x),1000),e.min(e.abs(this.scroller.y-i.y),1000)),300);if(this.scroller.x!=i.x||this.scroller.y!=i.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=i;this.scroller.scrollTo(i.x,i.y,j,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(i){i=i||0;this.indicatorStyle[c.style.transitionDuration]=i+"ms";if(!i&&c.isBadAndroid){this.indicatorStyle[c.style.transitionDuration]="0.001s"}},transitionTimingFunction:function(i){this.indicatorStyle[c.style.transitionTimingFunction]=i},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){c.addClass(this.wrapper,"iScrollBothScrollbars");c.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{c.removeClass(this.wrapper,"iScrollBothScrollbars");c.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}var i=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=e.max(e.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=e.max(e.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var i=this.options.listenX&&e.round(this.sizeRatioX*this.scroller.x)||0,j=this.options.listenY&&e.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(i<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=e.max(this.indicatorWidth+i,8);this.indicatorStyle.width=this.width+"px"}i=this.minBoundaryX}else{if(i>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=e.max(this.indicatorWidth-(i-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";i=this.maxPosX+this.indicatorWidth-this.width}else{i=this.maxBoundaryX}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(j<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=e.max(this.indicatorHeight+j*3,8);this.indicatorStyle.height=this.height+"px"}j=this.minBoundaryY}else{if(j>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=e.max(this.indicatorHeight-(j-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";j=this.maxPosY+this.indicatorHeight-this.height}else{j=this.maxBoundaryY}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}}this.x=i;this.y=j;if(this.scroller.options.useTransform){this.indicatorStyle[c.style.transform]="translate("+i+"px,"+j+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=i+"px";this.indicatorStyle.top=j+"px"}},_pos:function(i,j){if(i<0){i=0}else{if(i>this.maxPosX){i=this.maxPosX}}if(j<0){j=0}else{if(j>this.maxPosY){j=this.maxPosY}}i=this.options.listenX?e.round(i/this.sizeRatioX):this.scroller.x;j=this.options.listenY?e.round(j/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(i,j)},fade:function(l,k){if(k&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var j=l?250:500,i=l?0:300;l=l?"1":"0";this.wrapperStyle[c.style.transitionDuration]=j+"ms";this.fadeTimeout=setTimeout((function(m){this.wrapperStyle.opacity=m;this.visible=+m}).bind(this,l),i)}};g.utils=c;if(typeof module!="undefined"&&module.exports){module.exports=g}else{f.IScroll=g}})(window,document,Math);
Date.create=function(a){var a=(a||"").replace(/\-/g,"/");return new Date(a)};var mainView;$(document).ready(function(){$("a.historyback").die().live("click",function(){historyBack()});$(".head_setting").live("click",function(){var a=document.location.pathname;if($("ul.common_top").is(":visible")){$(".page").css("top","0px");$("ul.common_top").hide();if($(".page-on-center").length==1){$(".page-on-center .page-content").css("padding-bottom","0px")}else{$(".page-content:first").css("padding-bottom","44px")}}else{var b=$(".pages")&&($(".pages").attr("class")).indexOf("toolbar-through")>=0?"104px":"60px";if($(".page-on-center").length==1){$(".page-on-center").css("top","60px");$(".page-on-center .page-content").css("padding-bottom",b)}else{$(".page").css("top","60px");$(".page-content:first").css("padding-bottom",b)}$("ul.common_top").show()}if(typeof(headSettingCallBack)=="function"){headSettingCallBack()}if($("ul.common_top li").eq(2).attr("class")=="on"){return}$("ul.common_top li").each(function(){var c=$(this).find("a:first").attr("urlpath");if(typeof(c)=="string"){if(c=="/"){if(a==""||a=="/"||a=="/index.html"){$(this).addClass("on")}}else{if(a===c){$(this).addClass("on")}}}})})});function pageScroll(c){if(c.selector){c={el:c}}if(typeof c==="string"){c={el:$(c)}}c=$.extend({pageContent:$(".page-content:eq(0)"),el:null,hasHead:true,immediate:false},c);var b=c.immediate,d=$(c.el),e=c.pageContent,f=$(".page-on-center>.page-content"),g=c.hasHead;if(f.length===1){e=f}if(d.length==0){return false}if(d.length>1){d=d.eq(0)}if(typeof g==="boolean"){if(g){g=$(".navbar").height()||0}else{g=0}}else{if(typeof g!=="number"){g=0}}var a=d.offset().top+e.scrollTop()-g;if(b){e.scrollTop(a)}else{e.animate({scrollTop:a});setTimeout(function(){if(e.scrollTop()!=a){e.scrollTo&&e.scrollTo({endY:a,duration:120})}},10)}return true}function getArea(a){getArea.isCall=true;postAjaxRequest("/goods/area.do",null,a)}function localcache(a,b){if(localStorage){a=localcache.wapname(a);var c=localStorage.getItem(a);if(b==undefined||c==b){return c}localStorage.setItem(a,b);return b}return b}localcache.wapname=function(a){if(a!=undefined&&a.indexOf("localcache_")!==0){a="localcache_"+a}return a};localcache.getForUpdate=function(a,b,c){localcache(a,c(localcache(a),b))};localcache.cleanAll=function(e){if(localStorage){if(e instanceof Array){e.forEach(function(f){var g=localcache.wapname(f);localcache.clean(g)})}else{var b=localStorage.length,a=[];for(var d=0;d<b;d++){var c=localStorage.key(d);if(c.startsWith("localcache_")){a.push(c)}}localcache.cleanAll(a)}}};localcache.clean=function(a){if(localStorage){localStorage.removeItem(a)}};function userLogin(c,a,b){}function asyncStaticFile(a){postAjaxRequest("/static/hashcode.do",a,function(b){b.result})}function appUserLogin(d,e,a,g,c,b){$.cookie("from","app",{path:"/",expires:1});if(__IS_AUTH__==false){var f={token:d,uuid:e,platForm:a,osVersion:g,appVersion:c,phoneModel:b};postAjaxRequest("/uc/app/newlogin.do",f,function(h){if(h.state==true){__IS_AUTH__=true;window.location.reload();return"0"}else{return"1"}})}}Date.prototype.format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(a)){a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var b in c){if(new RegExp("("+b+")").test(a)){a=a.replace(RegExp.$1,(RegExp.$1.length==1)?(c[b]):(("00"+c[b]).substr((""+c[b]).length)))}}return a};function blockPage(){blockPage.scrollTop=markPagePosition();blockPage.backstyle={html:$("html").attr("style"),body:$("body").attr("style"),};$("body,html").css({overflow:"hidden"});blockPage.recover=function(){$("html").removeAttr("style").attr("style",blockPage.backstyle.html);$("body").removeAttr("style").attr("style",blockPage.backstyle.body);markPagePosition.recover(blockPage.scrollTop)}}function markPagePosition(){return markPagePosition.positon||(markPagePosition.positon={html:$("html").scrollTop(),body:$("body").scrollTop()})}markPagePosition.recover=function(a){a=a||markPagePosition.positon;if(a){var c=a.html;var b=a.body;!!c?$("html").scrollTop(c):$("body").scrollTop(b);markPagePosition.positon=null}};var ConfirmBox,Notification;if(typeof(myAppYN)=="undefined"){ConfirmBox={alert:function(b,a,d,c){window.alert(b)},autoClose:function(c,b,a){window.alert(c)},confirm:function(e,d,c,b,a){return window.confirm(d)},toast:function(a){if(typeof a=="object"){a=a.message}window.alert(message)},showLoading:function(){},closeLoading:function(){},showTextLoading:function(a){},closeTextLoading:function(){}}}else{Notification={notice:function(b,a){if($(".notifications").length==0){myApp.addNotification({title:b,message:a})}},autoClose:function(b,a){if($(".notifications").length==0){myApp.addNotification({title:b,message:a});setTimeout(function(){myApp.closeNotification(".notifications")},2000)}}};ConfirmBox={styles:{btn_enter:"",btn_cancel:""},beforeEvent:{btn_enter:function(){},btn_cancel:function(){}},btnText:function(b,d){var c=this.styles[b];var e=[];e.push('<span class="'+b+'"');if(c!=""){e.push(' style="');for(var a in c){e.push(a+":"+c[a]+";")}e.push('" ')}e.push(">"+d+"</span>");return e.join("")},before:function(a){if(this.beforeEvent&&typeof this.beforeEvent[a]=="function"){this.beforeEvent[a]()}},jdNotice:function(a){if(a.close===undefined){a.close=true}myApp.modal({title:a.title,text:a.message,buttons:[{text:a.btnText||"确定",close:a.close,onClick:function(){if(typeof a.click=="function"){a.click()}}}]})},alert:function(b,a,d,c){var e=this;d=(d==undefined)?"":d;c=(c==undefined)?"确 定":c;myApp.modal({title:d,text:b,buttons:[{text:this.btnText("btn_enter",c),close:true,onClick:function(){e.before("btn_enter");if(typeof(a)=="function"){a()}}}]})},autoClose:function(d,b,a){var e=this;var c=myApp.modal({title:"",text:d,buttons:[{text:this.btnText("btn_enter","确定"),close:true,onClick:function(){e.before("btn_enter");if(typeof(b)=="function"){b()}}}]});if(typeof(a)=="undefined"){a=2500}setTimeout(function(){myApp.closeModal(c)},a)},confirm:function(h,e,a,f,c,k,b,g){var d=this;c=(c==undefined)?"确 定":c;k=(k==undefined)?"取 消":k;b=(b==undefined)?true:b;g=(g==undefined)?true:g;var j=myApp.modal({title:h,text:e,buttons:[{text:this.btnText("btn_cancel",k),close:g,onClick:function(){d.before("btn_cancel");if(typeof(f)=="function"){f()}}},{text:this.btnText("btn_enter",c),close:b,onClick:function(){d.before("btn_enter");if(typeof(a)=="function"){a()}}}]})},toast:function(h){if(typeof h=="string"){h={message:h+""}}var g=h.message;var d=h.icon;var a=h.img;var c=h.bg||"rgba(0,0,0,0.5)";var e=h.color||"white";var f=h.timeout||1500;if(typeof a!="string"){switch(d){case"error":a=__STATIC_SERVER__+"/image/confirmbox/error.png";break;default:a=__STATIC_SERVER__+"/image/confirmbox/success.png";break}}if($(".confirmtoast").length==0){var b=$("<div />").addClass("confirmtoast").append("<div><img /></div>").append($("<span/>"));$("body").append(b)}else{if($(".confirmtoast").is(":visible")){return}}$(".confirmtoast").css({background:c,color:e});$(".confirmtoast img").attr("src",a);$(".confirmtoast span").html(g);$(".confirmtoast").fadeIn(800);setTimeout(function(){$(".confirmtoast").fadeOut(500)},f)},showLoading:function(){myApp.showIndicator()},closeLoading:function(){myApp.hideIndicator()},showTextLoading:function(a){myApp.showPreloader(a)},closeTextLoading:function(){myApp.hidePreloader()}}}function toLogin(){return window.location.href="/uc/login.html?returnUrl="+location.pathname}function textSubstring(b,a){while(b.length>a){b=b.substr(0,b.length-1)}return b}function getWxVersion(){var a=navigator.userAgent.match(/MicroMessenger\/(\d+)/);if(a==null){a=0}else{a=parseInt(a[1]);if(isNaN(a)){a=0}}return a}function isAlipay(){var a=navigator.userAgent.toLowerCase();if(a.match(/Alipay/i)=="alipay"){return true}else{return false}}function isWechat(){var a=navigator.userAgent.toLowerCase();if(a.match(/MicroMessenger/i)=="micromessenger"){return true}else{return false}}function isIOSClient(){var a=navigator.userAgent;if(a.match(/iPhone|iPod/i)!=null){return true}else{if(a.match(/iPad/i)!=null){return true}else{if(a.match(/Android/i)!=null){return false}}}return false}function getTimestamp(){return new Date().getTime()}function getRandomStr(){var c=9999;var a=1000;var d=c-a;var b=Math.random();return(a+Math.round(b*d))}function isFn(a){return typeof a=="function"}function isArray(a){return !!a&&Object.prototype.toString.call(a)==="[object Array]"}function getQueryString(a){var c=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i");var d=window.location.search.substr(1).match(c);var b="";if(d!=null){b=d[2]}c=null;d=null;return b==null||b==""||b=="undefined"?"":b}function idsToList(a){var b=/^[\s,]+|[\s,]+$/g;a=a.replace(b,"");idList=a.split(",");return idList}function maskMobileCode(a){if(!VALIDATERULES.isMobile(a)){return a}a=a.substr(0,3)+"****"+a.substr(7,11);return a}function historyBack(){if(mainView){var a=mainView.url;if(a==undefined||a.indexOf("#")==0||a==window.location.href){backByBrowser()}}else{backByBrowser()}}function backByBrowser(){var a=false;if(window.history.length==1||document.referrer==""){goBaseServer()}else{if(document.referrer.indexOf(window.location.origin)==-1){if(document.referrer.indexOf("192.168")==-1){window.history.back();a=true}else{goBaseServer()}}else{window.history.back();a=true}}if(a){setTimeout(function(){goBaseServer()},500)}}function goBaseServer(){window.location.href=__BASE_SERVER__}function doPostRequest(a){if(typeof a==="object"&&!(a instanceof Array)){if(!a.url){return console.error("doPostRequest url is require")}if(typeof a.before=="function"){if(!a.before()){return}}postAjaxRequest(a.url,a.data,a.success,a.error,a.dataType,a.method||"POST",a.async,a.showLoading)}else{console.error("doPostRequest need an object param")}}function doGetRequest(c){var b=[];if(typeof c.data=="object"){for(var a in c.data){b.push([a,c.data[a]].join("="))}}c.data=b.join("&");c.method="GET";doPostRequest(c)}function postAjaxRequest(f,e,a,d,c,g,h,b){if(e==null||(typeof(e)!="object"&&typeof(e)!="string")){e={}}if(typeof(c)!="string"){c="json"}if(typeof(h)!="boolean"){h=true}if(typeof(g)!="string"||g.toUpperCase()!="GET"){g="POST"}if(typeof(e)=="object"){e=JSON.stringify(e)}if(typeof(b)!="boolean"){b=true}if(b){ConfirmBox.showLoading()}$.ajax({contentType:"application/json; charset=utf-8",type:g,url:__BASE_SERVER__+f,cache:false,async:h,data:e,dataType:c,success:function(j,k){if(b){ConfirmBox.closeLoading()}if(typeof(a)=="function"){a(j)}},error:function(j,o,m){if(b){ConfirmBox.closeLoading()}if(j.status==0){var n=new XMLHttpRequest();n.open("HEAD","//"+__BASE_SERVER__+"/?rand="+Math.floor((1+Math.random())*65536),false);try{n.send();if(typeof(a)=="function"){var l={status:true,message:"Success"};a(l)}return}catch(k){ConfirmBox.alert(NETWORK_ERROR);return}}if(typeof(d)=="function"){d()}else{if(j.status==403){if(typeof(openLoginScreen)=="function"){openLoginScreen(function(){postAjaxRequest(f,e,a,d)})}else{ConfirmBox.autoClose(NOT_LOGIN_ERROR)}}else{ConfirmBox.alert(NETWORK_ERROR)}}}})}function getAjaxRequest(f,e,a,d,c){if(typeof(e)=="object"){var h="";var b=0;for(var g in e){if(b>0){h+="&"}h+=g+"="+e[g].toString();b++}e=h}postAjaxRequest(f,e,a,d,c,"GET")}function hideHeadSetting(){$(".navbar").find("ul.common_top").hide();$(".pages .page-content").css("padding-top","45px")}function nofind(){var a=event.srcElement;a.src=__STATIC_SERVER__+"/image/hao24.gif";a.onerror=null}function showMask(b){if(typeof(b)=="undefined"){b=$("body")}if($(".mask").length>0){$(".mask").show();return}var a=$(".navbar").height()==null?0:$(".navbar").height();$('<div class="mask"></div>').appendTo(b).css({width:$(document).width(),height:$(document).height()-a,position:"absolute",top:0,left:0,"z-index":5500,opacity:0.3,filter:"Alpha(Opacity = 30)",backgroundColor:"#000"})}function hideMask(){if($(".mask").length>0){$(".mask").hide();return}}function moneyFormart(b){b=parseFloat((b+"").replace(/[^\d\.-]/g,"")).toFixed(2)+"";var a=b.split(".")[0].split("").reverse(),c=b.split(".")[1];space="";for(i=0;i<a.length;i++){space+=a[i]+((i+1)%3==0&&(i+1)!=a.length?",":"")}text=space.split("").reverse().join("")+"."+c;if(text.substr(-3)==".00"){text=text.substr(0,text.length-3)}else{if(text.substr(-1)=="0"){text=text.substr(0,text.length-1)}}return text}function sendMsg(d,a,c,b){myApp.showPreloader("信息发送中，请稍候");postAjaxRequest("/message/code.do",{hp:d,sms_gb:a,captcha:b},function(e){myApp.hidePreloader();if(typeof(c.successCallback)=="function"){c.successCallback(e)}},function(){myApp.hidePreloader();if(typeof(c.errorCallback)=="function"){c.errorCallback()}})}function validCode(b,c,e,a,d){myApp.showPreloader("请稍候");postAjaxRequest("/message/validate.do",{phone:b,validCode:c,inputCode:e,sms_gb:a},function(f){myApp.hidePreloader();if(typeof(d.successCallback)=="function"){d.successCallback(f)}},function(){myApp.hidePreloader();if(typeof(d.successCallback)=="function"){d.errorCallback()}})}var validateRegExp={decmal:"^([+-]?)\\d*\\.\\d+$",decmal1:"^[1-9]\\d*.\\d*|0.\\d*[1-9]\\d*$",decmal2:"^-([1-9]\\d*.\\d*|0.\\d*[1-9]\\d*)$",decmal3:"^-?([1-9]\\d*.\\d*|0.\\d*[1-9]\\d*|0?.0+|0)$",decmal4:"^[1-9]\\d*.\\d*|0.\\d*[1-9]\\d*|0?.0+|0$",decmal5:"^(-([1-9]\\d*.\\d*|0.\\d*[1-9]\\d*))|0?.0+|0$",intege:"^-?[1-9]\\d*$",intege1:"^[1-9]\\d*$",intege2:"^-[1-9]\\d*$",num:"^([+-]?)\\d*\\.?\\d+$",num1:"^\\d*$",num2:"^-[1-9]\\d*|0$",ascii:"^[\\x00-\\xFF]+$",chinese:"^[\\u4e00-\\u9fa5]+$",color:"^[a-fA-F0-9]{6}$",date:"^\\d{4}(\\-|\\/|.)\\d{1,2}\\1\\d{1,2}$",email:"^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$",idcard:"^[1-9][0-9]{16}([\\dxX])$",ip4:"^(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)\\.(25[0-5]|2[0-4]\\d|[0-1]\\d{2}|[1-9]?\\d)$",letter:"^[A-Za-z]+$",letter_l:"^[a-z]+$",letter_u:"^[A-Z]+$",mobile:"^0?1[0-9]{10}$",notempty:"^\\S+$",password:"^.*[A-Za-z0-9\\w_-]+.*$",hao24pwd:"^((?=.*\d)(?=.*D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))^.{6,20}$",hao24pwdLength:"^.{6,20}$",smsCode:"^[0-9]{6}$",fullNumber:"^[0-9]+$",picture:"(.*)\\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga)$",qq:"^[1-9]*[1-9][0-9]*$",rar:"(.*)\\.(rar|zip|7zip|tgz)$",tel:"^[0]\\d{9,11}$",url:"^http[s]?:\\/\\/([\\w-]+\\.)+[\\w-]+([\\w-./?%&=]*)?$",username:"^[A-Za-z0-9_\\-\\u4e00-\\u9fa5]+$",deptname:"^[A-Za-z0-9_()（）\\-\\u4e00-\\u9fa5]+$",zipcode:"^\\d{6}$",realname:"^[\\u4e00-\\u9fa5]+$",companyname:"^[A-Za-z0-9_()（）\\-\\u4e00-\\u9fa5]+$",companyaddr:"^[A-Za-z0-9_()（）\\#\\-\\u4e00-\\u9fa5]+$",companysite:"^http[s]?:\\/\\/([\\w-]+\\.)+[\\w-]+([\\w-./?%&#=]*)?$",validcode:"^\\d{6}$",bankno:"^(\\d{16}|\\d{18}|\\d{19})$",expressCode:"^\\w+$",guestname:"^[\\u4e00-\\u9fa5]{1,5}$",custNickName:"^[\u4e00-\u9fa5a-zA-Z][\\u4e00-\\u9fa5_a-zA-Z0-9_-]{0,19}$",captcha:"^[A-Za-z0-9]{5}$",pcard:"^[A-Za-z0-9\u4e00-\u9fa5]+$"};var VALIDATERULES={isNegative:function(a){return new RegExp(validateRegExp.decmal4).test(a)||new RegExp(validateRegExp.num1).test(a)},isNull:function(a){return(a==""||typeof a!="string")},isHaoPwd:function(a){return new RegExp(validateRegExp.hao24pwd).test(a)},isHaoPwdLength:function(a){return new RegExp(validateRegExp.hao24pwdLength).test(a)},isMobile:function(a){return new RegExp(validateRegExp.mobile).test(a)},isNum:function(a){return new RegExp(validateRegExp.num1).test(a)},isRealName:function(a){return new RegExp(validateRegExp.realname).test(a)},isValidCode:function(a){return new RegExp(validateRegExp.validcode).test(a)},isIdcard:function(a){return new RegExp(validateRegExp.idcard).test(a)},isBankNo:function(a){return new RegExp(validateRegExp.bankno).test(a)},isExpressCode:function(a){return new RegExp(validateRegExp.expressCode).test(a)},isExist:function(a){return typeof(a)!="undefined"},isSMSCode:function(a){return new RegExp(validateRegExp.smsCode).test(a)},isGuestName:function(a){return new RegExp(validateRegExp.guestname).test(a)},isCustNickName:function(a){return new RegExp(validateRegExp.custNickName).test(a)},isPcard:function(a){return new RegExp(validateRegExp.pcard).test(a)},decode:function(b){var f=b.split(",");var g="";if(f.length>1){for(var d=0;d<f.length;d+=2){var c=parseInt(f[d])<<4&255;var a=parseInt(f[d+1])>>4&255;var e=c+a-48;g+=e}}else{return b}return g},isCaptcha:function(a){return new RegExp(validateRegExp.captcha).test(a)},isLetter:function(a){return new RegExp(validateRegExp.letter).test(a)}};var NOT_LOGIN_ERROR="您还没有登录，或登录超时";var NETWORK_ERROR="请检查您的网络连接是否正常";var MOBILE_ERROR="请检查您填写的手机号";var MOBILE_EMPTY_ERROR="手机号不能为空";var MOBILE_FORMAT_ERROR="请检查您填写的手机号格式是否正确";var AGREEMENT_ERROR="您需同意用户协议";var ACCOUNT_ERROR="手机号或用户名填写错误";var ACCOUNT_FORMAT_ERROR="手机号或用户名不能为空";var PASSWORD_FORMAT="密码由6-20位字符组成，包含至少两种以上字母、数字或者半角字符，区分大小写";var PASSWORD_ERROR="密码填写错误";var PASSWORD_EMPTY_ERROR="请填写密码";var PASSWORD_LENGTH_ERROR="密码长度不正确，请重新设置";var PASSWORD_FORMAT_ERROR="请至少输入两种字符组成的复杂密码";var PASSWORD_MATCH_ERROR="两次输入的密码不一致";var INPUT_FORMAT_ERROR="请检查您填写的信息格式是否正确";var RECIVNM_EMPTY_ERROR="收货人姓名不能为空";var RECIVNM_FORMAT_ERROR="收货人姓名只能是汉字";var RECIVE_AREA_EMPTY_ERROR="请重新编辑所在地区";var RECIVE_ADDR_EMPTY_ERROR="详细地址不能为空";var RECIVE_ADDR_LENGTH_ERROR="详细地址不能超过30个字";var EXPRESS_ID_ERROR="请选择物流公司";var EXPRESS_CODE_EMPTY="请输入物流单号";var EXPRESS_CODE_ERROR="输入的物流单号不合法";var BANK_ACCOUNT_ERROR="开户名不能为空";var BANK_NM_ERROR="开户银行不能为空";var BANK_NO_EMPTY_ERROR="银行账号不能为空";var BANK_NO_ERROR="输入的银行账号不合法";var EXPRESS_DESC_ERROR="备注不能超多250字";var EXPRESS_FEE_ERROE="运费应该为正整数";var EXPRESS_FEE_INPUT="请填写您的运费";var BRANCH_BANKNM_EMPTY_ERROR="开户银行支行不能为空";var CAPTCHA_FORMAT_ERROR="图片验证码输入错误！";
function updateFooterUserInfo(){if(__IS_AUTH__&&$(".foot ul").length>0){postAjaxRequest("/uc/userNickName.do",{},function(a){if(a.state&&a.message){$(".foot ul li:eq(0)").html('<a class="external" href="'+__BASE_SERVER__+'/myhao24/">'+a.message+"</a>");$(".foot ul li:eq(1)").html('<a class="external" href="'+__BASE_SERVER__+'/uc/logout/">退出</a>')}})}}$(document).ready(function(){if($(".toolbar").length==0){$(".pages").removeClass("toolbar-through");$(".pages").addClass("no-toolbar")}var b=window.location.href;var a=b.substr(__BASE_SERVER__.length);if(a==""||a=="/"||a.indexOf("/?")==0){a="/index.html"}$(".footer li a").each(function(){var d=$(this).attr("id");var c=$(this).data("unselect_img");if(c!=undefined){if(a.indexOf(d)>0){$(this).css("background","url("+c+") no-repeat");$(this).css("background-size","100%  100%");return false}}if(a.indexOf(d)>0){$(this).addClass("on");$(this).parent().siblings().children().removeClass("on");return false}});$("form textarea").live("input propertychange",function(){var c=$(this).attr("maxlength2");if(typeof(c)=="undefined"){return}var d=$(this).val();var c=parseInt(c);if(d.length>c){$(this).val(textSubstring(d,c))}});if(((typeof(__IS_WECHAT__)!="undefined"&&__IS_WECHAT__==true)||(typeof(__IS_ALIPAY__)!="undefined"&&__IS_ALIPAY__==true))&&$(".cart_count_wx").length>0){if(__IS_AUTH__==true){postAjaxRequest("/cart/qty.do",null,function(c){if(c.state==true){if(c.qty>0){$(".cart_count_wx").css("display","block");$(".cart_count_wx").html(c.qty)}else{$(".cart_count_wx").hide()}}})}else{$(".cart_count_wx").hide()}}updateFooterUserInfo()});function get_app_share_info(){var b={};try{b.title=app_share_title;b.desc=app_share_desc;b.url=app_share_url;b.imageUrl=app_share_imageUrl;result=JSON.stringify(b);return result}catch(a){}return null}function get_app_share_info_android(){var b={};try{b.title=app_share_title;b.desc=app_share_desc;b.url=app_share_url;b.imageUrl=app_share_imageUrl;result=JSON.stringify(b);window.stub.jsMethod(result)}catch(a){}return null};
if(typeof(SHARE_WORDS)=="undefined"&&typeof(SIGNATURE)=="undefined"&&typeof(Framework7)=="function"&&((typeof(__IS_WECHAT__)=="boolean"&&__IS_WECHAT__==true&&getWxVersion()>0)||(typeof(__IS_APP__)=="boolean"&&__IS_APP__==true))){var configList=[{urlPreg:"^/designevent/(\\d+)\\.html",shareType:40,appShare:false},{urlPreg:"^/event/(\\d+)\\.html",shareType:40,appShare:false},{urlPreg:"^/video/(\\d+)\\.html",shareType:10,appShare:false},{urlPreg:"^/lvb/(\\d+)\\.html",shareType:10,appShare:false},{urlPreg:"^/vote/event-(\\d+)\\.html",shareType:31,appShare:true},{urlPreg:"^/vote/detail-(\\d+)-\\d+\\.html",shareType:30,appShare:true}];var currentPageUrl="";var SHARE_WORDS,SHARE_WORDS_DESC,SHARE_IMAGE,SHARE_LIKE;var APPID,TIMESTAMP,NONCESTR,SIGNATURE;var app_share_title,app_share_desc,app_share_imageUrl,app_share_url;function setPageShare(a,b){if(typeof(__IS_WECHAT__)=="boolean"&&__IS_WECHAT__==true&&getWxVersion()>0){SHARE_WORDS=a.shareTitle;SHARE_WORDS_DESC=a.shareContent;SHARE_IMAGE=a.sharePic;if(typeof(a.shareUrl)=="string"&&a.shareUrl.length>10){SHARE_LIKE=a.shareUrl}else{SHARE_LIKE=__BASE_SERVER__+currentPageUrl}APPID=a.appId;TIMESTAMP=a.timestamp;NONCESTR=a.nonceStr;SIGNATURE=a.signature;loadJs("https://res.wx.qq.com/open/js/jweixin-1.0.0.js");loadJs(__STATIC_SERVER__+"/js/wx/share.js")}if(b==true&&typeof(__IS_APP__)=="boolean"&&__IS_APP__==true){app_share_title=a.shareTitle;app_share_desc=a.shareContent;app_share_imageUrl=a.sharePic;if(typeof(a.shareUrl)=="string"&&a.shareUrl.length>10){app_share_url=a.shareUrl}else{app_share_url=__BASE_SERVER__+currentPageUrl}loadJs(__STATIC_SERVER__+"/js/app/share.js")}}function loadJs(b){var c=document.getElementsByTagName("HEAD").item(0);var a=document.createElement("script");a.type="text/javascript";a.src=b;c.appendChild(a)}$(document).ready(function(){var f=null;var c=null;var b=false;var d=document.location.pathname+document.location.search;var g,a;$.each(configList,function(h,i){g=new RegExp(i.urlPreg);a=g.exec(d);if(a!=null){if(a.length>=2){f=a[1]}c=i.shareType;b=i.appShare;return false}});if(c==null){c=90}var e={linkId:f,shareType:c,shareUrl:window.location.href};postAjaxRequest("/share.do",e,function(h){if(h.state==true){setPageShare(h,b)}},null,null,null,null,false)})};